---
layout: default
title: "Grimoire's"
description: "Audio scrolls of arcane knowledge from the ScopeCreep witches"
permalink: /podcasts/
---

<section class="hero">
    <div class="container">
        <div class="hero-ornament">✦ ✦ ✦</div>
        <h1 class="hero-title">The Grimoire</h1>
        <p class="hero-text">Audio scrolls of arcane knowledge</p>
    </div>
</section>

<section class="about">
    <div class="container">
        <header class="section-header">
            <span class="section-label">About the Show</span>
            <h2 class="section-title">{{ site.podcast.title }}</h2>
            <div class="section-divider">⟡</div>
        </header>

        <article class="person-card centered-card">
            <div class="podcast-cover-art">
                <img src="{{ '/media/site_media/logos/scopecreepzip_logo_no_text.PNG' | relative_url }}"
                     alt="ScopeCreep.zip Logo"
                     class="podcast-logo">
            </div>
            <p class="person-bio">{{ site.podcast.description }}</p>
            <div class="person-links">
                {% include podcast-services.html
                   layout="horizontal"
                   size="medium"
                   use_data_file=true
                %}
            </div>
        </article>
    </div>
</section>

<section class="craft">
    <div class="container">
        <header class="section-header">
            <span class="section-label">Episodes</span>
            <h2 class="section-title">Recent Scrolls</h2>
            <div class="section-divider">⟡</div>
        </header>

        {% if site.podcasts.size > 0 %}
        <div class="episodes-carousel-container">
            <button class="carousel-nav carousel-nav--prev" aria-label="Previous episode">
                <span>‹</span>
            </button>

            <div class="episodes-carousel">
                <div class="episodes-track">
                    {% for episode in site.podcasts reversed %}
                    <div class="episode-slide">
                        {% include podcast-episode-card.html episode=episode %}
                    </div>
                    {% endfor %}
                </div>
            </div>

            <button class="carousel-nav carousel-nav--next" aria-label="Next episode">
                <span>›</span>
            </button>
        </div>

        <div class="carousel-indicators">
            {% for episode in site.podcasts reversed %}
            <button class="carousel-indicator {% if forloop.first %}active{% endif %}"
                    data-slide="{{ forloop.index0 }}"
                    aria-label="Go to episode {{ episode.episode_number | default: forloop.index }}">
            </button>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <div class="hero-ornament">✦</div>
            <h2 class="section-title">Coming Soon</h2>
            <p class="hero-text">The cauldron is brewing. New episodes arriving soon.</p>
            <div class="person-links centered-links">
                {% include podcast-services.html
                   layout="horizontal"
                   size="medium"
                   show_rss=false
                   use_data_file=true
                %}
            </div>
        </div>
        {% endif %}
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const carousel = document.querySelector('.episodes-carousel');
  if (!carousel) return;

  const track = carousel.querySelector('.episodes-track');
  const slides = Array.from(track.querySelectorAll('.episode-slide'));
  const prevButton = document.querySelector('.carousel-nav--prev');
  const nextButton = document.querySelector('.carousel-nav--next');
  const indicators = document.querySelectorAll('.carousel-indicator');

  let currentIndex = 0;
  const totalSlides = slides.length;

  // Initialize carousel
  function initCarousel() {
    updateSlideClasses();
    updateIndicators();

    // Set initial track position
    updateTrackPosition();
  }

  // Update slide classes for rolodex effect
  function updateSlideClasses() {
    slides.forEach((slide, index) => {
      slide.classList.remove('prev', 'active', 'next', 'far');

      if (index === currentIndex) {
        slide.classList.add('active');
      } else if (index === currentIndex - 1 || (currentIndex === 0 && index === totalSlides - 1)) {
        slide.classList.add('prev');
      } else if (index === currentIndex + 1 || (currentIndex === totalSlides - 1 && index === 0)) {
        slide.classList.add('next');
      } else {
        slide.classList.add('far');
      }
    });
  }

  // Update track position
  function updateTrackPosition() {
    const slideWidth = slides[0].offsetWidth;
    const offset = -currentIndex * slideWidth;
    track.style.transform = `translateX(${offset}px)`;
  }

  // Update indicators
  function updateIndicators() {
    indicators.forEach((indicator, index) => {
      indicator.classList.toggle('active', index === currentIndex);
    });
  }

  // Go to specific slide
  function goToSlide(index) {
    if (index < 0) {
      currentIndex = totalSlides - 1;
    } else if (index >= totalSlides) {
      currentIndex = 0;
    } else {
      currentIndex = index;
    }

    updateSlideClasses();
    updateTrackPosition();
    updateIndicators();
    updateButtonStates();
  }

  // Update button states
  function updateButtonStates() {
    // Never disable buttons - allow infinite scrolling
    prevButton.disabled = false;
    nextButton.disabled = false;
  }

  // Event listeners
  prevButton.addEventListener('click', () => {
    goToSlide(currentIndex - 1);
  });

  nextButton.addEventListener('click', () => {
    goToSlide(currentIndex + 1);
  });

  // Indicator clicks
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      goToSlide(index);
    });
  });

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') {
      goToSlide(currentIndex - 1);
    } else if (e.key === 'ArrowRight') {
      goToSlide(currentIndex + 1);
    }
  });

  // Touch/swipe support
  let touchStartX = 0;
  let touchEndX = 0;

  carousel.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
  });

  carousel.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  });

  function handleSwipe() {
    const swipeThreshold = 50;
    const diff = touchStartX - touchEndX;

    if (Math.abs(diff) > swipeThreshold) {
      if (diff > 0) {
        // Swiped left
        goToSlide(currentIndex + 1);
      } else {
        // Swiped right
        goToSlide(currentIndex - 1);
      }
    }
  }

  // Handle window resize
  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      updateTrackPosition();
    }, 250);
  });

  // Initialize
  initCarousel();
});
</script>
